<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../vaadin-button/vaadin-button.html?id=sdfljsldkf">
<link rel="import" href="../vaadin-tabs/vaadin-tabs.html">
<link rel="import" href="../vaadin-select/vaadin-select.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../dz-dropzone/dz-dropzone-by-tags.html?id=s2345df">
<link rel="import" href="../vaadin-text-field/vaadin-text-field.html">
<link rel="import" href="../paper-tags-input/paper-tags-input.html">
<link rel="import" href="../dz-file-management/css/style.html">
<link rel="import" href="../dz-file-management/dz-image-item.html?id=sdfsdf">
<link rel="import" href="../dz-file-management/dz-image-toolbar.html">


<dom-module id="gallery-image-item">

	<template>
		<style include="master-styles"></style>
		<style include="master1-styles"></style>
		<style include="master2-styles"></style>
        <style include="master3-styles"></style>
        <style>
          dz-image-toolbar {
              z-index:2;
              display:none;
          }
          li:hover dz-image-toolbar{
            display:block;
          }
        </style>
        <li id="screenshot-11207721" data-screenshot-id="11207721" class="group team shot-thumbnail shot-thumbnail-with-hover-overlay">
          
            <div class="dribbble disabled-shot-section  ">
          
              <div class="dribbble-shot with-actions">
                
          <div class="dribbble-img  ">
              <a class="dribbble-link" href="/shots/11207721-Growing-App"><picture>
                <source srcset$="{{original_url}}" media="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-device-pixel-ratio: 1.5), (min-resolution: 1.5dppx)">
                <source srcset$="{{original_url}}" media="(min-width: 1440px)">
            <source srcset$="{{original_url}}">
            <img src$="{{original_url}}">
          </picture>
          </a>
              <a class="dribbble-over" on-click="_detail">
                <strong>{{gid}}</strong>
                <span class="timestamp">{{gid}}</span>
                  <span class="comment">
                    <span class="text-light">â€”</span>
                        {{gid}}
                  </span>
              </a>
          </div>
          
          
                  <div class="shot-display-options">
                      <div class="dribbble-shot-title-date">
            <p class="shot-title">Growing ðŸŒ¿ App</p>
          </div>
          
                      <div class="extras">
            <a href="/shots/11207721-Growing-App/rebounds">
              <span class="rebound-mark has-rebounds">
                0
              </span>
          </a>  <a href="/shots">
              <span class="rebound-mark is-rebound">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" role="img" class="icon fill-current">
            <path fill-rule="evenodd" d="M12,24 C5.372583,24 0,18.627417 0,12 C0,5.372583 5.372583,0 12,0 C18.627417,0 24,5.372583 24,12 C24,18.627417 18.627417,24 12,24 Z M12.2475984,9.37352259 L12.2475984,7.59240625 C12.2488119,7.34363009 12.137166,7.09546069 11.9150878,6.9061481 C11.4715381,6.52691615 10.753121,6.52691615 10.3095714,6.9061481 L4.96634483,11.4757414 L10.3095714,16.0453348 C10.5316496,16.2346474 10.8216862,16.3299105 11.1123295,16.3299105 C11.4029729,16.3299105 11.6930095,16.2352542 11.9150878,16.0453348 C12.137166,15.8560222 12.2488119,15.6072461 12.2475984,15.3590767 L12.2475984,13.4721596 C16.235905,13.6681466 18.3153097,16.1782177 18.3153097,16.1782177 C18.3153097,12.0260829 15.7741522,9.64838988 12.2475984,9.37352259 Z"></path>
          </svg>
          
              </span>
          </a>  <span class="attachments-mark">
                <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" role="img" class="icon fill-current"><path d="m21.056 2.944c-1.253-1.254-2.92-1.944-4.693-1.944-1.774 0-3.44.69-4.693 1.944-.283.282-.439.657-.439 1.057s.156.775.438 1.057c.271.271.656.426 1.057.427.401 0 .786-.156 1.057-.427 1.374-1.373 3.785-1.373 5.158 0 .688.689 1.068 1.605 1.068 2.579s-.38 1.89-1.068 2.579l-8.726 8.726c-1.374 1.373-3.784 1.373-5.158 0-.687-.69-1.067-1.605-1.067-2.579s.38-1.89 1.068-2.579l3.718-3.718c.42-.418 1.102-.418 1.522 0 .203.203.315.474.315.761 0 .288-.112.559-.315.761l-2.657 2.657c-.283.282-.439.657-.439 1.057s.156.775.438 1.057c.541.542 1.573.542 2.114 0l2.657-2.657c.767-.767 1.19-1.788 1.19-2.875 0-1.088-.422-2.109-1.19-2.875-.767-.767-1.788-1.189-2.875-1.189s-2.106.422-2.874 1.188l-3.718 3.719c-1.254 1.252-1.944 2.92-1.944 4.693s.69 3.439 1.944 4.693c1.253 1.254 2.92 1.944 4.693 1.944 1.774 0 3.44-.69 4.693-1.944l8.726-8.726c1.254-1.252 1.944-2.92 1.944-4.693s-.69-3.439-1.944-4.693z"></path></svg>
          
            </span>
          </div>
          
                      <ul class="dribbble-shot-actions">
              <li data-bucket-container="true">
                
            <a class="bucket-shot form-btn " title="Save shot" data-signup-trigger="true" data-href="/signup/new" data-context="bucket-shot" href="">
                  <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" role="img" class="icon "><path d="m22 5h-11l-2-3h-7c-1.104 0-2 .896-2 2v16c0 1.104.896 2 2 2h20c1.104 0 2-.896 2-2v-13c0-1.104-.896-2-2-2zm-6 10h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3h-3c-.55 0-1-.45-1-1s.45-1 1-1h3v-3c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1z"></path></svg>
          
          </a>
          
          
          
              </li>
          
              
          
            <li class="like-action-11207721  ">
                <a class="form-btn tipsy-mobile-disabled stats-action like-shot" title="Like this shot" data-signup-trigger="" data-href="/signup/new" data-context="like-shot" href="">
                  <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" role="img" class="icon "><path d="m18.199 2.04c-2.606-.284-4.262.961-6.199 3.008-2.045-2.047-3.593-3.292-6.199-3.008-3.544.388-6.321 4.43-5.718 7.96.966 5.659 5.944 9 11.917 12 5.973-3 10.951-6.341 11.917-12 .603-3.53-2.174-7.572-5.718-7.96z"></path></svg>
          
          </a>  </li>
          
          </ul>
          
                  </div>
              </div>
          
              
            </div>
          
                <h2 class="attribution hover-card-parent">
                    <span class="attribution-team">
                      <a class="hoverable url" rel="contact" href$="/{{owner_id}}"><img class="photo" alt$="{{owner_id}}" src="https://cdn.dribbble.com/users/485324/avatars/mini/479e0aa76edbad47c51f159fd88e2bfa.png?1551975218"> 
                        <span class="display-name">{{owner_id}}</span></a>
                    </span>
               
                      <ul class="tools group" style="visibility: visible;">
              <li class="tool fav">
                  <ul>
                    
          
            <li class="like-action-11207721  compact-true">
                <a class=" tipsy-mobile-disabled stats-action like-shot" title="Like this shot" data-signup-trigger="" data-href="/signup/new" data-context="like-shot" href="">
                  <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" role="img" class="icon fill-current shot-tools-icon"><path d="m18.199 2.04c-2.606-.284-4.262.961-6.199 3.008-2.045-2.047-3.593-3.292-6.199-3.008-3.544.388-6.321 4.43-5.718 7.96.966 5.659 5.944 9 11.917 12 5.973-3 10.951-6.341 11.917-12 .603-3.53-2.174-7.572-5.718-7.96z"></path></svg>
          
          </a>  </li>
          
                  </ul>
                <span class="toggle-fav">{{likeRate}}</span>
              </li>
              <li class="tool cmnt">
                <a class="js-overlay-scroll-to-section" data-scroll-to-id="js-add-comment" href="/shots/11207721-Growing-App">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 15" fill="none" role="img" class="icon fill-current shot-tools-icon">
          <path d="M8.75 0.5H5.25C2.35025 0.5 0 2.85025 0 5.75C0 8.24783 1.74592 10.3344 4.08333 10.8652V14.5L8.16667 11H8.75C11.6497 11 14 8.64975 14 5.75C14 2.85025 11.6497 0.5 8.75 0.5Z"></path>
          </svg>
          
          </a>      <span original-title="">{{clickRate}}</span>
              </li>
          </ul>
          
                </h2>
          
          </li>
			
			

	</template>
</dom-module>

<script>

(function() {



	Polymer({
		is: 'gallery-image-item',
		properties: {
      gid:{
        "Type":"String"
      }
		},

		created:function() {
        this.dataManager = Polymer.dataManager;
        this.clickRate = Math.floor(Math.random() * 1000);   
        this.likeRate = Math.floor(Math.random() * 100);   
    },
    ready(){
        console.log('Gid',this.gid);
        if (Polymer.editMode==="admin"){
          let toolbar = document.createElement('dz-image-toolbar');
          toolbar.host = this;
          toolbar.gid = this.gid;
          this.shadowRoot.querySelector('li').appendChild(toolbar);
        }
        this.dataManager.getGalleryRecord(this.gid).then(item=>{
            console.log('Item',item);
            this.item = item;
            this.original_url = item['large_url'];
            this.gid = item['gid'];
            this.owner_id = item['owner_id'];
        });
        this.addEventListener('item-remove',e=>{
          let detail = e.detail;
          let gid = detail['gid'];
          console.log('Remove',gid);
          this.dataManager.removeGalleryRecord(this.gid).then(result=>{
              this.remove();
          });

        });

    }
		
	});

})();

</script>
